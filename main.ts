namespace SpriteKind {
    export const Enemy2 = SpriteKind.create()
}
// Detect when hero and Snakes collide
sprites.onOverlap(SpriteKind.Player, SpriteKind.Enemy2, function (sprite, otherSprite) {
    info.changeLifeBy(-2)
    otherSprite.startEffect(effects.confetti, 100)
    otherSprite.destroy()
})
// Detect when hero and Bats collide
sprites.onOverlap(SpriteKind.Player, SpriteKind.Enemy, function (sprite, otherSprite) {
    info.changeLifeBy(-1)
    otherSprite.startEffect(effects.disintegrate, 100)
    otherSprite.destroy()
})
let enemy2: Sprite = null
let enemy: Sprite = null
let heroImg = sprites.castle.heroWalkFront1
let batImg = sprites.builtin.forestBat4
let snakeImg = sprites.builtin.forestSnake2
tiles.setTilemap(tiles.createTilemap(hex`200020000405050505060405050f050505050505050505060405050f05050505050f050603090909090803000000000000000000000000080300000000000000000000080309090909080201010101010c000000000000080300000000000d0101010c080309090909080405050505060300000d0c00000a0b000d0c00000a050506030803090909090802010101010703000008030000000000080300000d01010703080309090909080405050f05050b0000080300000d010107020c000a05050603080201010e0107030000000000000000080300000804050f050b0000000008030804050b0e0a050b00000d010101010107030000080300000000000000000803080300000000000000000a0505050505060300000802010101010c00000008030803000d010101010c00000000000000080300000a050f0505060300000008020703000a050505060201010101010c0008030000000000000008030000000a05060300000000000804050f0505060300080300000000000000080300000000000803000000000008030000000008030008030000000000000008030000000000080201011001010703000d0c000803000802010101010110010703000000000008040505050505050b00080300080300080405050f05050505050b000d0c0000080300000000000000000a0b00080300080300000000000000000000080300000803000d0c0000000000000000080300080300000000000000000000080300000803001103000d01010101010107030008020101010110010101010c080300000803000a0b00080405050f0505050b000a050505050505050f05060308030000080300000000080300000000000000000d0101010c0000000000080308030000080201010c00080300000000000000000804050603000000000008020703000008040f050b000802010101010101010107030d070300000000000a05050b00000803000000000a05050505050505050506030a050b00000000000000000000000803000000000000000000000000000008030000000000000d0101010101010107021001010c0000000d0110010c0000080300000000000008040505050f05050604050f06030000000a050f050b0000110300000d010101070300000000000008030000080300000000000000000000080300000a050505050b000000000000080300000803000000000d010101010107030000000000000000000000000000080300000803000000000a0505050505050b00000d010101010c000000000000110300000a0b00000000000000000000000000000a05050506120000000000000803000000000000000000000000000000000000000000000803000000000000080201010101010101010101010101010101010101010101070201010110010107`, img`
    ................................
    ................................
    ................................
    ................................
    ................................
    ................................
    ................................
    ................................
    ................................
    ................................
    ................................
    ................................
    ................................
    ................................
    ................................
    ................................
    ................................
    ................................
    ................................
    ................................
    ................................
    ................................
    ................................
    ................................
    ................................
    ................................
    ................................
    ................................
    ................................
    ................................
    ................................
    ................................
    `, [myTiles.transparency16,sprites.dungeon.greenOuterSouth0,sprites.dungeon.greenOuterSouthEast,sprites.dungeon.greenOuterWest1,sprites.dungeon.greenOuterNorthWest,sprites.dungeon.greenOuterNorth0,sprites.dungeon.greenOuterNorthEast,sprites.dungeon.greenOuterSouthWest,sprites.dungeon.greenOuterEast0,sprites.dungeon.floorLight2,sprites.dungeon.greenInnerSouthWest,sprites.dungeon.greenInnerSouthEast,sprites.dungeon.greenInnerNorthEast,sprites.dungeon.greenInnerNorthWest,sprites.dungeon.stairSouth,sprites.dungeon.greenOuterNorth2,sprites.dungeon.greenOuterSouth2,sprites.dungeon.greenOuterEast2,sprites.dungeon.greenOuterWest2], TileScale.Sixteen))
info.setLife(3)
// Create hero sprite
let hero = sprites.create(heroImg, SpriteKind.Player)
controller.moveSprite(hero)
// Spawn Bats
game.onUpdateInterval(900, function () {
    enemy = sprites.create(batImg, SpriteKind.Enemy)
    enemy.setPosition(160, randint(0, 120))
    enemy.setVelocity(randint(-75, -50), 0)
    enemy.setFlag(SpriteFlag.DestroyOnWall, true)
})
game.onUpdateInterval(2250, function () {
    enemy2 = sprites.create(snakeImg, SpriteKind.Enemy2)
    enemy2.setPosition(randint(0, 160), 0)
    enemy2.setVelocity(0, randint(25, 50))
    enemy2.setFlag(SpriteFlag.DestroyOnWall, true)
})
